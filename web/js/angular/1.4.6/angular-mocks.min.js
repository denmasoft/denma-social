(function(j,n,b){n.mock={};n.mock.$BrowserProvider=function(){this.$get=function(){return new n.mock.$Browser()}};n.mock.$Browser=function(){var q=this;this.isMock=true;q.$$url="http://server/";q.$$lastUrl=q.$$url;q.pollFns=[];q.$$completeOutstandingRequest=n.noop;q.$$incOutstandingRequestCount=n.noop;q.onUrlChange=function(r){q.pollFns.push(function(){if(q.$$lastUrl!==q.$$url||q.$$state!==q.$$lastState){q.$$lastUrl=q.$$url;q.$$lastState=q.$$state;r(q.$$url,q.$$state)}});return r};q.$$applicationDestroyed=n.noop;q.$$checkUrlChange=n.noop;q.deferredFns=[];q.deferredNextId=0;q.defer=function(s,r){r=r||0;q.deferredFns.push({time:(q.defer.now+r),fn:s,id:q.deferredNextId});q.deferredFns.sort(function(u,t){return u.time-t.time});return q.deferredNextId++};q.defer.now=0;q.defer.cancel=function(s){var r;n.forEach(q.deferredFns,function(u,t){if(u.id===s){r=t}});if(n.isDefined(r)){q.deferredFns.splice(r,1);return true}return false};q.defer.flush=function(r){if(n.isDefined(r)){q.defer.now+=r}else{if(q.deferredFns.length){q.defer.now=q.deferredFns[q.deferredFns.length-1].time}else{throw new Error("No deferred tasks to be flushed")}}while(q.deferredFns.length&&q.deferredFns[0].time<=q.defer.now){q.deferredFns.shift().fn()}};q.$$baseHref="/";q.baseHref=function(){return this.$$baseHref}};n.mock.$Browser.prototype={poll:function m(){n.forEach(this.pollFns,function(q){q()})},url:function(q,r,s){if(n.isUndefined(s)){s=null}if(q){this.$$url=q;this.$$state=n.copy(s);return this}return this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(q){q()}};n.mock.$ExceptionHandlerProvider=function(){var q;this.mode=function(r){switch(r){case"log":case"rethrow":var s=[];q=function(t){if(arguments.length==1){s.push(t)}else{s.push([].slice.call(arguments,0))}if(r==="rethrow"){throw t}};q.errors=s;break;default:throw new Error("Unknown mode '"+r+"', only 'log'/'rethrow' modes are allowed!")}};this.$get=function(){return q};this.mode("rethrow")};n.mock.$LogProvider=function(){var q=true;function r(u,t,s){return u.concat(Array.prototype.slice.call(t,s))}this.debugEnabled=function(s){if(n.isDefined(s)){q=s;return this}else{return q}};this.$get=function(){var s={log:function(){s.log.logs.push(r([],arguments,0))},warn:function(){s.warn.logs.push(r([],arguments,0))},info:function(){s.info.logs.push(r([],arguments,0))},error:function(){s.error.logs.push(r([],arguments,0))},debug:function(){if(q){s.debug.logs.push(r([],arguments,0))}}};s.reset=function(){s.log.logs=[];s.info.logs=[];s.warn.logs=[];s.error.logs=[];s.debug.logs=[]};s.assertEmpty=function(){var t=[];n.forEach(["error","warn","info","log","debug"],function(u){n.forEach(s[u].logs,function(v){n.forEach(v,function(w){t.push("MOCK $log ("+u+"): "+String(w)+"\n"+(w.stack||""))})})});if(t.length){t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:");t.push("");throw new Error(t.join("\n---------\n"))}};s.reset();return s}};n.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(r,q,u,s){var w=[],t=0,v=0;var x=function(G,B,E,D){var A=arguments.length>4,F=A?Array.prototype.slice.call(arguments,4):[],y=0,z=(n.isDefined(D)&&!D),H=(z?s:u).defer(),I=H.promise;E=(n.isDefined(E))?E:0;I.then(null,null,(!A)?G:function(){G.apply(null,F)});I.$$intervalId=t;function C(){H.notify(y++);if(E>0&&y>=E){var J;H.resolve(y);n.forEach(w,function(L,K){if(L.id===I.$$intervalId){J=K}});if(n.isDefined(J)){w.splice(J,1)}}if(z){r.defer.flush()}else{q.$apply()}}w.push({nextTime:(v+B),delay:B,fn:C,id:t,deferred:H});w.sort(function(K,J){return K.nextTime-J.nextTime});t++;return I};x.cancel=function(z){if(!z){return false}var y;n.forEach(w,function(B,A){if(B.id===z.$$intervalId){y=A}});if(n.isDefined(y)){w[y].deferred.reject("canceled");w.splice(y,1);return true}return false};x.flush=function(z){v+=z;while(w.length&&w[0].nextTime<=v){var y=w[0];y.fn();y.nextTime+=y.delay;w.sort(function(B,A){return B.nextTime-A.nextTime})}return z};return x}]};var e=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;function c(u){var t;if(t=u.match(e)){var s=new Date(0),r=0,q=0;if(t[9]){r=i(t[9]+t[10]);q=i(t[9]+t[11])}s.setUTCFullYear(i(t[1]),i(t[2])-1,i(t[3]));s.setUTCHours(i(t[4]||0)-r,i(t[5]||0)-q,i(t[6]||0),i(t[7]||0));return s}return u}function i(q){return parseInt(q,10)}function o(r,s,q){var t="";if(r<0){t="-";r=-r}r=""+r;while(r.length<s){r="0"+r}if(q){r=r.substr(r.length-s)}return t+r}n.mock.TzDate=function(v,t){var q=new Date(0);if(n.isString(t)){var r=t;q.origDate=c(t);t=q.origDate.getTime();if(isNaN(t)){throw {name:"Illegal Argument",message:"Arg '"+r+"' passed into TzDate constructor is not a valid date string"}}}else{q.origDate=new Date(t)}var u=new Date(t).getTimezoneOffset();q.offsetDiff=u*60*1000-v*1000*60*60;q.date=new Date(t+q.offsetDiff);q.getTime=function(){return q.date.getTime()-q.offsetDiff};q.toLocaleDateString=function(){return q.date.toLocaleDateString()};q.getFullYear=function(){return q.date.getFullYear()};q.getMonth=function(){return q.date.getMonth()};q.getDate=function(){return q.date.getDate()};q.getHours=function(){return q.date.getHours()};q.getMinutes=function(){return q.date.getMinutes()};q.getSeconds=function(){return q.date.getSeconds()};q.getMilliseconds=function(){return q.date.getMilliseconds()};q.getTimezoneOffset=function(){return v*60};q.getUTCFullYear=function(){return q.origDate.getUTCFullYear()};q.getUTCMonth=function(){return q.origDate.getUTCMonth()};q.getUTCDate=function(){return q.origDate.getUTCDate()};q.getUTCHours=function(){return q.origDate.getUTCHours()};q.getUTCMinutes=function(){return q.origDate.getUTCMinutes()};q.getUTCSeconds=function(){return q.origDate.getUTCSeconds()};q.getUTCMilliseconds=function(){return q.origDate.getUTCMilliseconds()};q.getDay=function(){return q.date.getDay()};if(q.toISOString){q.toISOString=function(){return o(q.origDate.getUTCFullYear(),4)+"-"+o(q.origDate.getUTCMonth()+1,2)+"-"+o(q.origDate.getUTCDate(),2)+"T"+o(q.origDate.getUTCHours(),2)+":"+o(q.origDate.getUTCMinutes(),2)+":"+o(q.origDate.getUTCSeconds(),2)+"."+o(q.origDate.getUTCMilliseconds(),3)+"Z"}}var s=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];n.forEach(s,function(w){q[w]=function(){throw new Error("Method '"+w+"' is not implemented in the TzDate mock")}});return q};n.mock.TzDate.prototype=Date.prototype;n.mock.animate=n.module("ngAnimateMock",["ng"]).config(["$provide",function(q){q.factory("$$forceReflow",function(){function r(){r.totalReflows++}r.totalReflows=0;return r});q.factory("$$animateAsyncRun",function(){var r=[];var s=function(){return function(t){r.push(t)}};s.flush=function(){if(r.length===0){return false}for(var t=0;t<r.length;t++){r[t]()}r=[];return true};return s});q.decorator("$animate",["$delegate","$timeout","$browser","$$rAF","$$forceReflow","$$animateAsyncRun","$rootScope",function(v,w,s,y,t,x,r){var u={queue:[],cancel:v.cancel,on:v.on,off:v.off,pin:v.pin,get reflows(){return t.totalReflows},enabled:v.enabled,flush:function(){r.$digest();var z,A=false;do{z=false;if(y.queue.length){y.flush();z=A=true}if(x.flush()){z=A=true}}while(z);if(!A){throw new Error("No pending animations ready to be closed or flushed")}r.$digest()}};n.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(z){u[z]=function(){u.queue.push({event:z,element:arguments[0],options:arguments[arguments.length-1],args:arguments});return v[z].apply(v,arguments)}});return u}])}]);n.mock.dump=function(q){return r(q);function r(u){var t;if(n.isElement(u)){u=n.element(u);t=n.element("<div></div>");n.forEach(u,function(v){t.append(n.element(v).clone())});t=t.html()}else{if(n.isArray(u)){t=[];n.forEach(u,function(v){t.push(r(v))});t="[ "+t.join(", ")+" ]"}else{if(n.isObject(u)){if(n.isFunction(u.$eval)&&n.isFunction(u.$apply)){t=s(u)}else{if(u instanceof Error){t=u.stack||(""+u.name+": "+u.message)}else{t=n.toJson(u,true)}}}else{t=String(u)}}}return t}function s(v,w){w=w||"  ";var u=[w+"Scope("+v.$id+"): {"];for(var t in v){if(Object.prototype.hasOwnProperty.call(v,t)&&!t.match(/^(\$|this)/)){u.push("  "+t+": "+n.toJson(v[t]))}}var x=v.$$childHead;while(x){u.push(s(x,w+"  "));x=x.$$nextSibling}u.push("}");return u.join("\n"+w)}};n.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",h]};function h(z,t,u,B){var A=[],s=[],x=[],v=n.bind(x,x.push),q=n.copy;function w(C,D,F,E){if(n.isFunction(C)){return C}return function(){return n.isNumber(C)?[C,D,F,E]:[200,C,D,F]}}function y(C,D,K,N,G,M,I){var O=new f(),E=s[0],L=false;function H(Q){return(n.isString(Q)||n.isFunction(Q)||Q instanceof RegExp)?Q:n.toJson(Q)}function P(Q){if(!B&&M){M.then?M.then(S):t(S,M)}return R;function R(){var T=Q.response(C,D,K,G);O.$$respHeaders=T[2];N(q(T[0]),q(T[1]),O.getAllResponseHeaders(),q(T[3]||""))}function S(){for(var T=0,U=x.length;T<U;T++){if(x[T]===R){x.splice(T,1);N(-1,b,"");break}}}}if(E&&E.match(C,D)){if(!E.matchData(K)){throw new Error("Expected "+E+" with different data\nEXPECTED: "+H(E.data)+"\nGOT:      "+K)}if(!E.matchHeaders(G)){throw new Error("Expected "+E+" with different headers\nEXPECTED: "+H(E.headers)+"\nGOT:      "+H(G))}s.shift();if(E.response){x.push(P(E));return}L=true}var J=-1,F;while((F=A[++J])){if(F.match(C,D,K,G||{})){if(F.response){(B?B.defer:v)(P(F))}else{if(F.passThrough){u(C,D,K,N,G,M,I)}else{throw new Error("No response defined !")}}return}}throw L?new Error("No response defined !"):new Error("Unexpected request: "+C+" "+D+"\n"+(E?"Expected "+E:"No more request expected"))}y.when=function(H,C,F,G){var E=new d(H,C,F,G),D={respond:function(I,J,L,K){E.passThrough=b;E.response=w(I,J,L,K);return D}};if(B){D.passThrough=function(){E.response=b;E.passThrough=true;return D}}A.push(E);return D};r("when");y.expect=function(H,D,F,G){var C=new d(H,D,F,G),E={respond:function(I,J,L,K){C.response=w(I,J,L,K);return E}};s.push(C);return E};r("expect");y.flush=function(C,D){if(D!==false){z.$digest()}if(!x.length){throw new Error("No pending request to flush !")}if(n.isDefined(C)&&C!==null){while(C--){if(!x.length){throw new Error("No more pending request to flush !")}x.shift()()}}else{while(x.length){x.shift()()}}y.verifyNoOutstandingExpectation(D)};y.verifyNoOutstandingExpectation=function(C){if(C!==false){z.$digest()}if(s.length){throw new Error("Unsatisfied requests: "+s.join(", "))}};y.verifyNoOutstandingRequest=function(){if(x.length){throw new Error("Unflushed requests: "+x.length)}};y.resetExpectations=function(){s.length=0;x.length=0};return y;function r(C){n.forEach(["GET","DELETE","JSONP","HEAD"],function(D){y[C+D]=function(E,F){return y[C](D,E,b,F)}});n.forEach(["PUT","POST","PATCH"],function(D){y[C+D]=function(E,F,G){return y[C](D,E,F,G)}})}}function d(t,q,r,s){this.data=r;this.headers=s;this.match=function(v,w,y,x){if(t!=v){return false}if(!this.matchUrl(w)){return false}if(n.isDefined(y)&&!this.matchData(y)){return false}if(n.isDefined(x)&&!this.matchHeaders(x)){return false}return true};this.matchUrl=function(v){if(!q){return true}if(n.isFunction(q.test)){return q.test(v)}if(n.isFunction(q)){return q(v)}return q==v};this.matchHeaders=function(u){if(n.isUndefined(s)){return true}if(n.isFunction(s)){return s(u)}return n.equals(s,u)};this.matchData=function(u){if(n.isUndefined(r)){return true}if(r&&n.isFunction(r.test)){return r.test(u)}if(r&&n.isFunction(r)){return r(u)}if(r&&!n.isString(r)){return n.equals(n.fromJson(n.toJson(r)),n.fromJson(u))}return r==u};this.toString=function(){return t+" "+q}}function g(){return new f()}function f(){f.$$lastInstance=this;this.open=function(s,q,r){this.$$method=s;this.$$url=q;this.$$async=r;this.$$reqHeaders={};this.$$respHeaders={}};this.send=function(q){this.$$data=q};this.setRequestHeader=function(q,r){this.$$reqHeaders[q]=r};this.getResponseHeader=function(q){var r=this.$$respHeaders[q];if(r){return r}q=n.lowercase(q);r=this.$$respHeaders[q];if(r){return r}r=b;n.forEach(this.$$respHeaders,function(s,t){if(!r&&n.lowercase(t)==q){r=s}});return r};this.getAllResponseHeaders=function(){var q=[];n.forEach(this.$$respHeaders,function(s,r){q.push(r+": "+s)});return q.join("\n")};this.abort=n.noop}n.mock.$TimeoutDecorator=["$delegate","$browser",function(s,q){s.flush=function(t){q.defer.flush(t)};s.verifyNoPendingTasks=function(){if(q.deferredFns.length){throw new Error("Deferred tasks to flush ("+q.deferredFns.length+"): "+r(q.deferredFns))}};function r(u){var t=[];n.forEach(u,function(v){t.push("{id: "+v.id+", time: "+v.time+"}")});return t.join(", ")}return s}];n.mock.$RAFDecorator=["$delegate",function(r){var q=function(t){var s=q.queue.length;q.queue.push(t);return function(){q.queue.splice(s,1)}};q.queue=[];q.supported=r.supported;q.flush=function(){if(q.queue.length===0){throw new Error("No rAF callbacks present")}var t=q.queue.length;for(var s=0;s<t;s++){q.queue[s]()}q.queue=q.queue.slice(s)};return q}];n.mock.$RootElementProvider=function(){this.$get=function(){return n.element("<div ng-app></div>")}};n.mock.$ControllerDecorator=["$delegate",function(q){return function(v,u,r,t){if(r&&typeof r==="object"){var s=q(v,u,true,t);n.extend(s.instance,r);return s()}return q(v,u,r,t)}}];n.module("ngMock",["ng"]).provider({$browser:n.mock.$BrowserProvider,$exceptionHandler:n.mock.$ExceptionHandlerProvider,$log:n.mock.$LogProvider,$interval:n.mock.$IntervalProvider,$httpBackend:n.mock.$HttpBackendProvider,$rootElement:n.mock.$RootElementProvider}).config(["$provide",function(q){q.decorator("$timeout",n.mock.$TimeoutDecorator);q.decorator("$$rAF",n.mock.$RAFDecorator);q.decorator("$rootScope",n.mock.$RootScopeDecorator);q.decorator("$controller",n.mock.$ControllerDecorator)}]);n.module("ngMockE2E",["ng"]).config(["$provide",function(q){q.decorator("$httpBackend",n.mock.e2e.$httpBackendDecorator)}]);n.mock.e2e={};n.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",h];n.mock.$RootScopeDecorator=["$delegate",function(r){var s=Object.getPrototypeOf(r);s.$countChildScopes=t;s.$countWatchers=q;return r;function t(){var v=0;var w=[this.$$childHead];var u;while(w.length){u=w.shift();while(u){v+=1;w.push(u.$$childHead);u=u.$$nextSibling}}return v}function q(){var v=this.$$watchers?this.$$watchers.length:0;var w=[this.$$childHead];var u;while(w.length){u=w.shift();while(u){v+=u.$$watchers?u.$$watchers.length:0;w.push(u.$$childHead);u=u.$$nextSibling}}return v}}];if(j.jasmine||j.mocha){var p=null,l=[],k=function(){return !!p};n.mock.$$annotate=n.injector.$$annotate;n.injector.$$annotate=function(q){if(typeof q==="function"&&!q.$inject){l.push(q)}return n.mock.$$annotate.apply(this,arguments)};(j.beforeEach||j.setup)(function(){l=[];p=this});(j.afterEach||j.teardown)(function(){var q=p.$injector;l.forEach(function(r){delete r.$inject});n.forEach(p.$modules,function(r){if(r&&r.$$hashKey){r.$$hashKey=b}});p.$injector=null;p.$modules=null;p=null;if(q){q.get("$rootElement").off()}n.forEach(n.element.fragments,function(s,r){delete n.element.fragments[r]});f.$$lastInstance=null;n.forEach(n.callbacks,function(s,r){delete n.callbacks[r]});n.callbacks.counter=0});j.module=n.mock.module=function(){var q=Array.prototype.slice.call(arguments,0);return k()?r():r;function r(){if(p.$injector){throw new Error("Injector already created, can not register a module!")}else{var s=p.$modules||(p.$modules=[]);n.forEach(q,function(t){if(n.isObject(t)&&!n.isArray(t)){s.push(function(u){n.forEach(t,function(w,v){u.value(v,w)})})}else{s.push(t)}})}}};var a=function(r,q){this.message=r.message;this.name=r.name;if(r.line){this.line=r.line}if(r.sourceId){this.sourceId=r.sourceId}if(r.stack&&q){this.stack=r.stack+"\n"+q.stack}if(r.stackArray){this.stackArray=r.stackArray}};a.prototype.toString=Error.prototype.toString;j.inject=n.mock.inject=function(){var q=Array.prototype.slice.call(arguments,0);var s=new Error("Declaration Location");return k()?r.call(p):r;function r(){var t=p.$modules||[];var w=!!p.$injectorStrict;t.unshift("ngMock");t.unshift("ng");var y=p.$injector;if(!y){if(w){n.forEach(t,function(z){if(typeof z==="function"){n.injector.$$annotate(z)}})}y=p.$injector=n.injector(t,w);p.$injectorStrict=w}for(var u=0,v=q.length;u<v;u++){if(p.$injectorStrict){y.annotate(q[u])}try{y.invoke(q[u]||n.noop,this)}catch(x){if(x.stack&&s){throw new a(x,s)}throw x}finally{s=null}}}};n.mock.inject.strictDi=function(r){r=arguments.length?!!r:true;return k()?q():q;function q(){if(r!==p.$injectorStrict){if(p.$injector){throw new Error("Injector already created, can not modify strict annotations")}else{p.$injectorStrict=r}}}}}})(window,window.angular);