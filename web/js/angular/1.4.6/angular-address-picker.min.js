angular.module("ByGiro.addressPicker",["ui.bootstrap"]).directive("bgapAddressPicker",["$window","$parse","$compile",function(e,r,a){function t(e,r){function t(e,r,a,t,n){n(function(e){r.append(e)});var s="undefined"!=typeof jQuery?jQuery:angular.element,o={};a.bgapOptions&&(o=e.$parent[a.bgapOptions]),s(r).addressPickerByGiro(o).on("selected.addressPickerByGiro",function(r,a){var t=a.cleanData;o.addressComponents||(t=a.cleanData.formatted_address);var d=e.$root.$$phase;"$apply"==d||"$digest"==d?e.address=t:e.$apply(function(){e.address=t})}),e.getLocation=function(e){return s(r).addressPickerByGiro("source",e).then(function(e){return e})},e.addressSelected=function(e){s(r).addressPickerByGiro("updater",e)},d(e)}e.attr("typeahead-min-length","3"),e.attr("typeahead","address for address in getLocation($viewValue)"),e.attr("typeahead-on-select","addressSelected($item, $model, $label)"),r.ngModel||e.attr("ng-model","formattedAddress");var d=a(e,null,1500);return t}return{compile:t,priority:1500,restrict:"A",scope:{address:"=bgapAddress"},terminal:!0,transclude:!0}}]);