function sidebarFluid(){$("#left").hasClass("sidebar-fixed")&&$("#left").removeClass("sidebar-fixed").css({height:"auto",top:"0",left:"auto"}),$("#navigation").hasClass("navbar-fixed-top")&&$("#left").css("top",40),$("#left").getNiceScroll().resize().hide(),$("#left").removeClass("hasScroll")}function sidebarFixed(){$("#left").addClass("sidebar-fixed"),$("#left .ui-resizable-handle").css("top",0),0==$(window).scrollTop()&&$("#left").css("top",40),$("#content").hasClass("container")&&$("#left").css("left",$("#content").offset().left),$("#left").getNiceScroll().resize().show(),initSidebarScroll()}function topbarFixed(){$("#content").addClass("nav-fixed"),$("#navigation").addClass("navbar-fixed-top"),"0px"==$("#left").css("top")&&$("#left").css("top",40)}function topbarFluid(){$("#content").removeClass("nav-fixed"),$("#navigation").removeClass("navbar-fixed-top"),"40px"!=$("#left").css("top")||$("#left").hasClass("sidebar-fixed")||$("#left").css("top",0)}function versionFixed(){$(window).width()>=1200&&($("#content").addClass("container").removeClass("container-fluid"),$("#navigation .container-fluid").addClass("container").removeClass("container-fluid"),$("#left").hasClass("sidebar-fixed")&&$("#left").css("left",$("#content").offset().left))}function versionFluid(){$("#content").addClass("container-fluid").removeClass("container"),$("#navigation .container").addClass("container-fluid").removeClass("container"),$("body").hasClass("sidebar-right")?$("#left").css("right",0):$("#left").css("left",0)}function slimScrollUpdate(e,t){if(e.length>0){var a=parseInt(e.attr("data-height")),s="true"==e.attr("data-visible")?!0:!1,l="bottom"==e.attr("data-start")?"bottom":"top",i={height:a,color:"#666",start:l};s&&(i.alwaysVisible=!0,i.disabledFadeOut=!0),void 0!==t&&(i.scrollTo=t+"px"),e.slimScroll(i)}}function destroySlimscroll(e){e.parent().replaceWith(e)}function initSidebarScroll(){getSidebarScrollHeight(),$("#left").hasClass("hasScroll")?$("#left").getNiceScroll().resize().show():($("#left").niceScroll({cursorborder:0,cursorcolor:"#999",railoffset:{top:0,left:-2},autohidemode:!1,horizrailenabled:!1}),$("#left").addClass("hasScroll"),$("#left").on("touchmove",function(e){e.preventDefault()}))}function getSidebarScrollHeight(){var e=$("#left"),t=$(window),a=$("#navigation"),s=t.height();(a.hasClass("navbar-fixed-top")&&0==t.scrollTop()||0==t.scrollTop())&&(s-=40),(e.hasClass("sidebar-fixed")||e.hasClass("mobile-show"))&&e.height(s)}function checkLeftNav(){var e=$(window),t=$("#content"),a=$("#left");e.width()<=840?(a.hasClass("mobile-show")||(a.hide(),$("#main").css("margin-left",0)),0==$(".toggle-mobile").length&&$("#navigation .user").before('<a href="#" class="toggle-mobile"><i class="fa fa-bars"></i></a>'),0==$(".mobile-nav").length&&createSubNav()):(a.is(":visible")||a.hasClass("forced-hide")||$("#content").hasClass("nav-hidden")||(a.show(),$("#main").css("margin-left",a.width())),$(".toggle-mobile").remove(),$(".mobile-nav").removeClass("open"),t.hasClass("forced-fixed")&&(t.removeClass("nav-fixed"),$("#navigation").removeClass("navbar-fixed-top")),e.width()<1200?$("#navigation .container").length>0&&(versionFluid(),$("body").addClass("forced-fluid")):$("body").hasClass("forced-fluid")&&versionFixed())}function resizeHandlerHeight(){var e=$(window).height(),t=0==$(window).scrollTop()?40:0;$("#left .ui-resizable-handle").height(e-t)}function toggleMobileNav(){var e=$(".mobile-nav");e.toggleClass("open"),e.find(".open").removeClass("open")}function getNavElement(e){var t=$.trim(e.find(">a").text()),a="";return a+="<li><a href='"+e.find(">a").attr("href")+"'>"+t+"</a>",e.find(">.dropdown-menu").length>0&&(a+=getNav(e.find(">.dropdown-menu"))),a+="</li>"}function getNav(e){var t="";return t+="<ul>",e.find(">li").each(function(){t+=getNavElement($(this))}),t+="</ul>",nav=t,t}function createSubNav(){if(0==$(".mobile-nav").length){var e=$("#navigation .main-nav"),t=e;getNav(t),$("#navigation").append(nav),$("#navigation > ul").last().addClass("mobile-nav"),$(".mobile-nav > li > a").click(function(e){var t=$(this);if($("#navigation").getNiceScroll().resize().show(),0!==t.next().length){e.preventDefault();var a=t.next();t.parents(".mobile-nav").find(".open").not(a).each(function(){var e=$(this);e.removeClass("open"),e.prev().find("i").removeClass("icon-angle-down").addClass("icon-angle-left")}),a.toggleClass("open"),t.find("i").toggleClass("icon-angle-left").toggleClass("icon-angle-down")}})}}function hideNav(){if($("#left").toggle().toggleClass("forced-hide"),$("#left").is(":visible")?$("#main").css("margin-left",$("#left").width()):$("#main").css("margin-left",0),$(".dataTable").length>0){var e=$.fn.dataTable.fnTables(!0);e.length>0&&($(e).each(function(){$(this).hasClass("dataTable-scroller")&&$(this).dataTable().fnDraw(),$(this).css("width","100%")}),$(e).dataTable().fnAdjustColumnSizing())}$(".calendar").length>0&&$(".calendar").fullCalendar("render")}function scrolledClone(e,t){t.remove(),e.parent().removeClass("open")}function resizeContent(){if($("#main").height()<$(window).height()){var e=40;$("#footer").length>0&&(e+=$("#footer").outerHeight()),$("#content").css({"min-height":"auto",height:$(window).height()-e})}$("#left").height()>$("#main").height()&&$("#main").height()<$(window).height()&&($("#left").addClass("full"),$("#footer").css({position:"fixed",bottom:0,top:"auto"})),$("#left").height()<$(window).height()&&!$("#left").hasClass("force-full")&&($("#left").removeClass("full"),$("#footer").attr("style",""))}var nav="";$(document).ready(function(){function e(e){return e.id?"<i class='"+e.text+"'></i> ."+e.text:e.text}if(resizeContent(),$(".username-check").length>0){var t;$(".username-check").change(function(e){var t=$(this);t.parent().next().html("<i class='fa fa-spinner fa-spin'></i> Checking availability..."),$.post("/check",{username:t.val()},function(e){"true"==e.available?(t.parent().next().html("<i class='fa fa-check'></i> Username is available!"),t.parents(".control-group").removeClass("error").addClass("success")):(t.parent().next().html("<i class='fa fa-times'></i> Username not available!"),t.parents(".control-group").removeClass("success").addClass("error"))},"json")}),$(".username-check-force").click(function(e){e.preventDefault(),$(".username-check").trigger("change")}),$(".username-check").keyup(function(e){clearTimeout(t),t=setTimeout(function(){$(".username-check").trigger("change")},500)})}$(".gallery-dynamic").length>0&&$(".gallery-dynamic").imagesLoaded(function(){$(".gallery-dynamic").masonry({itemSelector:"li",columnWidth:201,isAnimated:!0})}),$(".gototop").click(function(e){e.preventDefault(),$("html, body").animate({scrollTop:0},600)}),"slide"==$("body").attr("data-mobile-sidebar")&&$("body").touchwipe({wipeRight:function(){$("#left").show().addClass("mobile-show"),initSidebarScroll()},wipeLeft:function(){$("#left").hide().removeClass("mobile-show")},preventDefaultEvents:!1}),"button"==$("body").attr("data-mobile-sidebar")&&$(".mobile-sidebar-toggle").click(function(e){e.preventDefault(),$("#left").toggle().toggleClass("mobile-show"),initSidebarScroll()}),$(".main-nav > li, .subnav-menu > li").hover(function(){"hover"==$(this).attr("data-trigger")&&($(this).parents(".subnav-menu").length>0&&$("#left").hasClass("sidebar-fixed")?$(this).find(">a").trigger("click"):($(this).closest(".dropdown-menu").stop(!0,!0).show(),$(this).addClass("open")))},function(){"hover"==$(this).attr("data-trigger")&&($(this).closest(".dropdown-menu").stop(!0,!0).hide(),$(this).removeClass("open"))}),$(".subnav-menu > li > a[data-toggle=dropdown]").click(function(){var e=$(this);if($("#left").hasClass("sidebar-fixed")||$("#left").hasClass("mobile-show")){$(".cloned").remove();var t=e.next(),a=e.offset(),s=t.clone().css({top:a.top,left:a.left+$("#left").width()}).show().addClass("cloned");$("body").append(s),t.hide(),$("#left").scroll(function(){scrolledClone(e,s)}),$(window).scroll(function(){scrolledClone(e,s)}),$("body").click(function(t){var a=$(t.target);0==a.parents(".cloned").length&&"dropdown"!=a.attr("data-toggle")&&(e.parent().removeClass("open"),s.remove())})}}),$("body").on("click",".change-input",function(e){e.preventDefault();var t=$(this),a=t.parent().prev(),s=t.parent().clone();s.html(a.clone().val("")),a.after(s),t.addClass("btn-satgreen update-input").removeClass("btn-grey-4 change-input").text("Update")}),$("body").on("click",".update-input",function(e){e.preventDefault();var t=$(this),a=t.parent();t.after('<span><i class="fa fa-spinner fa-spin"></i>Updating...</span>'),setTimeout(function(){a.find("span").remove(),a.prev().slideUp(200,function(){a.prev().remove(),t.removeClass("update-input btn-satgreen").addClass("btn-grey-4 change-input").text("Change")})},1e3)}),$(".subnav-hidden").each(function(){$(this).find(".subnav-menu").is(":visible")&&$(this).find(".subnav-menu").hide()}),setTimeout(function(){slimScrollUpdate($(".messages").parent(),9999)},1e3),createSubNav(),$(".breadcrumbs .close-bread > a").click(function(e){e.preventDefault(),$(".breadcrumbs").fadeOut()}),$("#navigation").on("click",".toggle-mobile",function(e){e.preventDefault(),toggleMobileNav()}),$(".content-slideUp").click(function(e){e.preventDefault();var t=$(this),a=t.parents(".box").find(".box-content");a.slideToggle("fast",function(){t.find("i").toggleClass("icon-angle-up").toggleClass("icon-angle-down"),t.find("i").hasClass("icon-angle-up")?a.hasClass("scrollable")&&destroySlimscroll(a):a.hasClass("scrollable")&&slimScrollUpdate(a)})}),$(".content-remove").click(function(e){e.preventDefault();var t=$(this),a=t.parents("[class*=col-sm]"),s=parseInt(a.attr("class").replace("col-sm","")),l=a.prev().length>0?a.prev():a.next();if(l.length>0)var i=parseInt(l.attr("class").replace("col-sm",""));bootbox.confirm("Do you really want to remove the widget <strong>"+t.parents(".box-title").find("h3").text()+"</strong>?",function(e){e&&($(".container-fluid").hasClass("sortable-box")?t.parents(".box").remove():(t.parents("[class*=col-sm]").remove(),l.length>0&&l.removeClass("col-sm"+i).addClass("col-sm"+(i+s))))})}),$(".content-refresh").click(function(e){e.preventDefault();var t=$(this);t.find("i").addClass("icon-spin"),setTimeout(function(){t.find("i").removeClass("icon-spin")},2e3)}),$("#vmap").length>0&&$("#vmap").vectorMap({map:"world_en",backgroundColor:null,color:"#ffffff",hoverOpacity:.7,selectedColor:"#2d91ef",enableZoom:!0,showTooltip:!1,values:sample_data,scaleColors:["#8cc3f6","#5c86ac"],normalizeFunction:"polynomial",onRegionClick:function(){alert("This Region has "+(Math.floor(10*Math.random())+1)+" users!")}}),$(".custom-checkbox").each(function(){var e=$(this);e.hasClass("checkbox-active")&&e.find("i").toggleClass("fa-square-o").toggleClass("fa-check-square-o"),e.bind("click",function(t){t.preventDefault(),e.find("i").toggleClass("fa-square-o").toggleClass("fa-check-square-o"),e.toggleClass("checkbox-active")})}),$(".tasklist").on("click","li",function(e){var t=$(this),a=$(this).find("input[type=checkbox]").first();t.toggleClass("done"),"LABEL"==e.target.nodeName&&e.preventDefault(),"INS"!=e.target.nodeName&&"INPUT"!=e.target.nodeName&&(a.prop("checked",!a.prop("checked")),$(".tasklist input").iCheck("update"))}),$(".tasklist").on("is.Changed","input[type=checkbox]",function(){$(this).parents("li").toggleClass("done")}),$("#new-task .select2-me").length>0&&$("#new-task .select2-me").select2({formatResult:e,formatSelection:e,escapeMarkup:function(e){return e}}),$(".tasklist").on("click",".task-bookmark",function(e){var t=$(this),a=$(this).parents("li"),s=$(this).parents("ul");e.preventDefault(),e.stopPropagation(),a.toggleClass("bookmarked"),a.hasClass("bookmarked")?a.fadeOut(200,function(){a.prependTo(s).fadeIn()}):s.find(".bookmarked").length>0?a.fadeOut(200,function(){a.insertAfter(s.find(".bookmarked").last()).fadeIn()}):a.fadeOut(200,function(){a.prependTo(s).fadeIn()})}),$(".tasklist").on("click",".task-delete",function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.parents("li").fadeOut()}),$(".tasklist").sortable({items:"li",opacity:.7,placeholder:"widget-placeholder-2",forcePlaceholderSize:!0,tolerance:"pointer"}),$(".sortable-box").sortable({connectWith:".box",items:".box",opacity:.7,placeholder:"widget-placeholder",forcePlaceholderSize:!0,tolerance:"pointer",dropOnEmpty:!0}),$(".toggle-subnav").click(function(e){e.preventDefault();var t=$(this);t.parents(".subnav").toggleClass("subnav-hidden").find(".subnav-menu,.subnav-content").slideToggle("fast"),t.find("i").toggleClass("icon-angle-down").toggleClass("icon-angle-right"),($("#left").hasClass("mobile-show")||$("#left").hasClass("sidebar-fixed"))&&(getSidebarScrollHeight(),$("#left").getNiceScroll().resize().show())}),$("#left").sortable({items:".subnav",placeholder:"widget-placeholder",forcePlaceholderSize:!0,axis:"y",handle:".subnav-title",tolerance:"pointer"}),$(".scrollable").length>0&&$(".scrollable").each(function(){var e=$(this),t=parseInt(e.attr("data-height")),a="true"==e.attr("data-visible")?!0:!1,s="bottom"==e.attr("data-start")?"bottom":"top",l={height:t,color:"#666",start:s,allowPageScroll:!0};a&&(l.alwaysVisible=!0,l.disabledFadeOut=!0),e.slimScroll(l)}),$(".new-task-form").submit(function(e){e.preventDefault(),$("#new-task").modal("hide");var t=$(this),a=$(".tasklist"),s=t.find("select[name=icons]"),l=t.find("input[name=task-name]"),i=t.find("input[name=task-bookmarked]");if(""!=l.val()){var n="";n+=i.is(":checked")?"<li class='bookmarked'>":"<li>",n+='<div class="check"><input type="checkbox" class="icheck-me" data-skin="square" data-color="blue"></div><span class="task"><i class="'+s.select2("val")+'"></i><span>'+l.val()+'</span></span><span class="task-actions"><a href="#" class="task-delete" rel="tooltip" title="Delete that task"><i class="fa fa-times"></i></a><a href="#" class="task-bookmark" rel="tooltip" title="Mark as important"><i class="fa fa-bookmark-o"></i></a></span></li>',a.find(".bookmarked").length>0?i.is(":checked")?a.find(".bookmarked").first().before(n):a.find(".bookmarked").last().after(n):a.prepend(n),icheck(),a.find("[rel=tooltip]").tooltip(),s.select2("val","icon-adjust"),l.val(""),i.prop("checked",!1)}}),$("#message-form .text input").on("focus",function(e){var t=$(this);t.parents(".messages").find(".typing").addClass("active").find(".name").html("John Doe"),slimScrollUpdate(t.parents(".scrollable"),1e5)}),$("#message-form .text input").on("blur",function(e){var t=$(this);t.parents(".messages").find(".typing").removeClass("active"),slimScrollUpdate(t.parents(".scrollable"),1e5)}),$(".jq-datepicker").length>0&&$(".jq-datepicker").datepicker({showOtherMonths:!0,selectOtherMonths:!0,prevText:"",nextText:""}),$(".spark-me").length>0&&$(".spark-me").sparkline("html",{height:"25px",enableTagOptions:!0}),$("#left").hasClass("no-resize")||$("#left").resizable({minWidth:60,handles:"e",resize:function(e,t){var a=$(".search-form .search-pane input[type=text]"),s=$("#main");a.css({width:t.size.width-55}),Math.abs(200-t.size.width)<=20?($("#left").css("width",200),a.css("width",145),s.css("margin-left",200)):s.css("margin-left",$("#left").width())},stop:function(){$("#left .ui-resizable-handle").css("background","none")},start:function(){$("#left .ui-resizable-handle").css("background","#aaa")}}),$("[rel=popover]").popover(),$(".toggle-nav").click(function(e){e.preventDefault(),hideNav()}),$("#content").hasClass("nav-hidden")&&hideNav(),$(".table-mail .sel-star").click(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.toggleClass("active")}),$(".table .sel-all").change(function(e){e.preventDefault(),e.stopPropagation();var t=$(this);t.parents(".table").find("tbody .selectable").prop("checked",el.prop("checked"))}),$(".table-mail > tbody > tr").click(function(e){var t=$(this),a=t.find(".table-checkbox > input");t.toggleClass("warning"),"INPUT"!=e.target.nodeName&&a.prop("checked",!a.prop("checked"))}),resizeHandlerHeight(),$(".table .alpha").click(function(e){e.preventDefault();var t=$(this),a="ABCDEFGHIJKLMNOPQRSTUVWXYZ",s="",l=[];t.parents().find(".alpha .alpha-val span").each(function(){l.push($(this).text())}),s+="<li class='active'><span>All</span></li>";for(var i=0;i<a.length;i++){var n=-1!=$.inArray(a.charAt(i),l)?" class='active'":"";s+="<li"+n+"><span>"+a.charAt(i)+"</span></li>"}t.parents(".table").before("<div class='letterbox'><ul class='letter'>"+s+"</ul></div>"),$(".letterbox .letter > .active").click(function(){var e=$(this);if("All"!=e.text()){slimScrollUpdate(e.parents(".scrollable"),0);var t=e.parents(".box-content").find(".table .alpha:contains('"+e.text()+"')");slimScrollUpdate(e.parents(".scrollable"),t.position().top)}e.parents(".letterbox").remove()})}),$(".theme-colors > li > span").hover(function(e){var t=$(this),a=$("body");a.attr("class","").addClass("theme-"+t.attr("class"))},function(){var e=$(this),t=$("body");void 0!==t.attr("data-theme")?t.attr("class","").addClass(t.attr("data-theme")):t.attr("class","")}).click(function(){var e=$(this);$("body").addClass("theme-"+e.attr("class")).attr("data-theme","theme-"+e.attr("class"))}),$(".version-toggle > a").click(function(e){e.preventDefault(),e.stopPropagation();var t=$(this),a=t.parent();t.hasClass("active")||(a.find(".active").removeClass("active"),t.addClass("active")),t.hasClass("set-fixed")?versionFixed():versionFluid()}),$(".topbar-toggle > a").click(function(e){e.preventDefault(),e.stopPropagation();var t=$(this),a=t.parent();t.hasClass("active")||(a.find(".active").removeClass("active"),t.addClass("active")),t.hasClass("set-topbar-fixed")?topbarFixed():topbarFluid()}),$(".sidebar-toggle > a").click(function(e){e.preventDefault(),e.stopPropagation();var t=$(this),a=t.parent();t.hasClass("active")||(a.find(".active").removeClass("active"),t.addClass("active")),$(".search-form .search-pane input").attr("style",""),$("#main").attr("style",""),t.hasClass("set-sidebar-fixed")?sidebarFixed():sidebarFluid()}),$(".del-gallery-pic").click(function(e){e.preventDefault();var t=$(this),a=t.parents("li");a.fadeOut(400,function(){a.remove()})}),checkLeftNav(),"fixed"==$("body").attr("data-layout")&&versionFixed(),"fixed"==$("body").attr("data-layout-topbar")&&topbarFixed(),"fixed"==$("body").attr("data-layout-sidebar")&&sidebarFixed()}),$.fn.scrollBottom=function(){return $(document).height()-this.scrollTop()-this.height()},$(window).scroll(function(e){var t=0,a=$(window),s=$(document);0==a.scrollTop()||$("#left").hasClass("sidebar-fixed")?$("#left .ui-resizable-handle").css("top",t):(t=a.scrollTop()+$("#left .ui-resizable-handle").height()<=s.height()?a.scrollTop()-40:s.height()-$("#left .ui-resizable-handle").height()-40,$("#left .ui-resizable-handle").css("top",t)),!$("#content").hasClass("nav-fixed")&&$("#left").hasClass("sidebar-fixed")&&(a.scrollTop()<40?$("#left").css("top",40-a.scrollTop()):$("#left").css("top",0)),getSidebarScrollHeight(),resizeHandlerHeight()}),$(window).resize(function(e){if(checkLeftNav(),getSidebarScrollHeight(),resizeContent(),resizeHandlerHeight(),$(".dataTable").length>0){var t=$.fn.dataTable.fnTables(!0);t.length>0&&($(t).each(function(){$(this).hasClass("dataTable-scroller")&&$(this).dataTable().fnDraw(),$(this).css("width","100%")}),$(t).dataTable().fnAdjustColumnSizing())}});