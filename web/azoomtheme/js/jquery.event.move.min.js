(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d,k){function H(a){function b(a){g?(c(),I(b),d=!0,g=!1):d=!1}var c=a,g=!1,d=!1;this.kick=function(a){g=!0;d||b()};this.end=function(a){var b=c;a&&(d?(c=g?function(){b();a()}:a,g=!0):a())}}function J(){return!0}function m(){return!1}function n(a){a.preventDefault()}function p(a){q[a.target.tagName.toLowerCase()]||a.preventDefault()}function l(a,b){var c,g;if(a.identifiedTouch)return a.identifiedTouch(b);c=
-1;for(g=a.length;++c<g;)if(a[c].identifier===b)return a[c]}function r(a,b){var c=l(a.changedTouches,b.identifier);if(c&&(c.pageX!==b.pageX||c.pageY!==b.pageY))return c}function s(a){t(a,a.data,a,u)}function v(a){u()}function u(){e(document,h.move,s);e(document,h.cancel,v)}function w(a){var b=a.data,c=r(a,b);c&&t(a,b,c,x)}function y(a){var b=a.data;l(a.changedTouches,b.identifier)&&x(b.identifier)}function x(a){e(document,"."+a,w);e(document,"."+a,y)}function t(a,b,c,g){var d=c.pageX-b.startX,e=c.pageY-
b.startY;d*d+e*e<z*z||K(a,b,c,d,e,g)}function L(){this._handled=J;return!1}function A(a){a._handled()}function K(a,b,c,g,e,f){var h,k;h=a.targetTouches;k=a.timeStamp-b.timeStamp;b.type="movestart";b.distX=g;b.distY=e;b.deltaX=g;b.deltaY=e;b.pageX=c.pageX;b.pageY=c.pageY;b.velocityX=g/k;b.velocityY=e/k;b.targetTouches=h;b.finger=h?h.length:1;b._handled=L;b._preventTouchmoveDefault=function(){a.preventDefault()};d.event.trigger(b,void 0,b.target);f(b.identifier)}function B(a){C(a.data.event,a,a.timeStamp,
a.data.timer)}function D(a){var b=a.data.event;a=a.data.timer;e(document,h.move,B);e(document,h.end,D);E(b,a,function(){setTimeout(function(){e(b.target,"click",m)},0)})}function F(a){var b=a.data.event,c=a.data.timer,d=r(a,b);d&&(a.preventDefault(),b.targetTouches=a.targetTouches,C(b,d,a.timeStamp,c))}function G(a){var b=a.data.event,c=a.data.timer;l(a.changedTouches,b.identifier)&&(e(document,"."+b.identifier,F),e(document,"."+b.identifier,G),E(b,c))}function C(a,b,c,d){c-=a.timeStamp;a.type="move";
a.distX=b.pageX-a.startX;a.distY=b.pageY-a.startY;a.deltaX=b.pageX-a.pageX;a.deltaY=b.pageY-a.pageY;a.velocityX=0.3*a.velocityX+0.7*a.deltaX/c;a.velocityY=0.3*a.velocityY+0.7*a.deltaY/c;a.pageX=b.pageX;a.pageY=b.pageY;d.kick()}function E(a,b,c){b.end(function(){a.type="moveend";d.event.trigger(a,void 0,a.target);return c&&c()})}var z=6,f=d.event.add,e=d.event.remove,I=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a,b){return window.setTimeout(function(){a()},25)}}(),q={textarea:!0,input:!0,select:!0,button:!0},h={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"};d.event.special.movestart={setup:function(a,b,c){f(this,"movestart.move",A);return!0},teardown:function(a){e(this,"dragstart drag",n);e(this,"mousedown touchstart",p);e(this,"movestart",A);return!0},add:function(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(f(this,"dragstart."+a.guid+" drag."+
a.guid,n,k,a.selector),f(this,"mousedown."+a.guid,p,k,a.selector))},remove:function(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(e(this,"dragstart."+a.guid+" drag."+a.guid),e(this,"mousedown."+a.guid))},_default:function(a){var b,c;a._handled()&&(b={target:a.target,startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,timeStamp:a.timeStamp,identifier:a.identifier,targetTouches:a.targetTouches,
finger:a.finger},c={event:b,timer:new H(function(c){d.event.trigger(b,void 0,a.target)})},a.identifier===k?(f(a.target,"click",m),f(document,h.move,B,c),f(document,h.end,D,c)):(a._preventTouchmoveDefault(),f(document,"touchmove."+a.identifier,F,c),f(document,"touchend."+a.identifier,G,c)))}};d.event.special.move={setup:function(){f(this,"movestart.move",d.noop)},teardown:function(){e(this,"movestart.move",d.noop)}};d.event.special.moveend={setup:function(){f(this,"movestart.moveend",d.noop)},teardown:function(){e(this,
"movestart.moveend",d.noop)}};f(document,"mousedown.move",function(a){1!==a.which||a.ctrlKey||a.altKey||(a={target:a.target,startX:a.pageX,startY:a.pageY,timeStamp:a.timeStamp},f(document,h.move,s,a),f(document,h.cancel,v,a))});f(document,"touchstart.move",function(a){var b;q[a.target.tagName.toLowerCase()]||(b=a.changedTouches[0],a={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:a.timeStamp,identifier:b.identifier},f(document,"touchmove."+b.identifier,w,a),f(document,"touchend."+b.identifier,
y,a))});"function"===typeof Array.prototype.indexOf&&function(a,b){for(var c=["changedTouches","targetTouches"],d=c.length;d--;)-1===a.event.props.indexOf(c[d])&&a.event.props.push(c[d])}(d)});